<form [formGroup]="form">
    <tea-form (closeForm)="closeForm()" (editForm)="editForm()">
        <div class="div-roll">
            <div class="div-container">
                <mat-form-field class="field-full-width item-nome" appearance="outline">
                    <mat-label>Nome</mat-label>
                    <input matInput formControlName="name" [maxlength]="50">
                    <mat-error *ngIf="form.controls['name'].hasError('required')">
                        <span> Campo Obrigário </span>
                    </mat-error>
                </mat-form-field>

                <mat-form-field class="field-full-width item-fantasia" appearance="outline">
                    <mat-label>Fantasia</mat-label>
                    <input matInput formControlName="trade" [maxlength]="50">
                </mat-form-field>

                <mat-form-field class="field-full-width item-cnpj" appearance="outline">
                    <mat-label>CNPJ/CPF</mat-label>
                    <input matInput formControlName="document" [maxlength]="15">
                </mat-form-field>

                <mat-form-field class="field-full-width item-ie" appearance="outline">
                    <mat-label>IE/RG</mat-label>
                    <input matInput formControlName="registration" [maxlength]="15">
                </mat-form-field>
            </div>
            <hr/>
            <div class="div-container">
                <mat-form-field class="field-full-width item-cep" appearance="outline">
                    <mat-label>CEP</mat-label>
                    <input matInput formControlName="cep" [maxlength]="50">
                </mat-form-field>

                <mat-form-field class="field-full-width item-pais" appearance="outline">
                    <mat-label>Pais</mat-label>
                    <input matInput formControlName="country" [maxlength]="50">
                </mat-form-field>

                <mat-form-field class="field-full-width item-estado" appearance="outline">
                    <mat-label>Estado</mat-label>
                    <mat-select formControlName="state">
                        <mat-option *ngFor="let enum of states | keyvalue" [value]="enum.key">
                            {{ enum.value }}
                        </mat-option>
                    </mat-select>
                </mat-form-field>

                <mat-form-field class="field-full-width item-cidade" appearance="outline">
                    <mat-label>Cidade</mat-label>
                    <input matInput formControlName="city" [maxlength]="15">
                </mat-form-field>
            </div>
            <div class="div-container">
                <mat-form-field class="field-full-width item-bairro" appearance="outline">
                    <mat-label>Bairro</mat-label>
                    <input matInput formControlName="neighborhood" [maxlength]="15">
                </mat-form-field>

                <mat-form-field class="field-full-width item-logradouro" appearance="outline">
                    <mat-label>Logradouro</mat-label>
                    <input matInput formControlName="street" [maxlength]="15">
                </mat-form-field>

                <mat-form-field class="field-full-width item-numero" appearance="outline">
                    <mat-label>Número</mat-label>
                    <input matInput formControlName="number" [maxlength]="15">
                </mat-form-field>
            </div>
            <hr />
            <mat-tab-group formArrayName="contacts" #tabGroup>
                <mat-tab *ngFor="let c of contacts.controls; let i = index"> 
                    <ng-template mat-tab-label>
                        Contato {{ i + 1 }}
                        <button mat-icon-button color="warn" (click)="addNewContact()">
                            <mat-icon class="example-tab-icon">remove_circle_outline</mat-icon>
                        </button>
                    </ng-template>
                    <div [formGroupName]="i" class="div-container">
                        <mat-form-field class="field-full-width item-cidade" appearance="outline">
                            <mat-label>Nome</mat-label>
                            <input matInput formControlName="name" id="{{ 'name' + i }}" [maxlength]="15">
                        </mat-form-field>
                        <mat-form-field class="field-full-width item-cep" appearance="outline">
                            <mat-label>Celular</mat-label>
                            <input matInput formControlName="phone" id="{{ 'phone' + i }}" [maxlength]="15">
                        </mat-form-field>
                        <mat-form-field class="field-full-width item-fantasia" appearance="outline">
                            <mat-label>email</mat-label>
                            <input matInput formControlName="email" id="{{ 'email' + i }}" [maxlength]="15">
                        </mat-form-field>
                    </div>
                </mat-tab>
                <mat-tab  disabled> 
                    <ng-template mat-tab-label>
                        <button mat-icon-button color="warn" (click)="addNewContact()">
                            <mat-icon class="example-tab-icon">exposure_plus_1</mat-icon>
                        </button>
                    </ng-template>
                </mat-tab>
            </mat-tab-group>
            </div>
    </tea-form>
</form>
